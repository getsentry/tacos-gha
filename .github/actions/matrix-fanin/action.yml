name: 'Matrix Fanin'
description: 'Collect all JSON files from the matrix and combine them into a single file (matrix-fanin.json).'
runs:
  using: 'composite'
  steps:
    - name: Download artifacts
      uses: 'actions/download-artifact@v4'
      with:
        merge-multiple: true
        pattern: matrix-output/*
        name: matrix-output

    - name: Combine JSON files
      shell: bash
      run: |
        jq -s add *.json > matrix-fanin.json
